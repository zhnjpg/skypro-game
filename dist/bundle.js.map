{"version":3,"file":"bundle.js","mappings":";;;;;;AAAa;AACb;AACA;AACA;AACA,+CAA+C,6BAA6B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./game.ts"],"sourcesContent":["\"use strict\";\r\nvar row = document.querySelector('.row1');\r\nvar size = 0;\r\nvar rowsize = 0;\r\nvar shuffledcards = cardArr.sort(function () { return 0.5 - Math.random(); });\r\nswitch (localStorage.getItem('difficulty')) {\r\n    case '1':\r\n        size = 6;\r\n        rowsize = 2;\r\n        break;\r\n    case '2':\r\n        size = 12;\r\n        rowsize = 4;\r\n        break;\r\n    case '3':\r\n        size = 18;\r\n        rowsize = 6;\r\n        break;\r\n}\r\nvar selected = shuffledcards.slice(38 - size / 2);\r\nselected = selected.concat(selected.slice(0));\r\nselected.sort(function () { return 0.5 - Math.random(); });\r\nvar i = 1;\r\nvar currow = 1;\r\nselected.forEach(function (element) {\r\n    var div = document.createElement('div');\r\n    var backimg = document.createElement('img');\r\n    backimg.src = element.src;\r\n    div.classList.add('card');\r\n    div.setAttribute('data-rang', element.rang);\r\n    div.setAttribute('data-suit', element.suit);\r\n    div.appendChild(backimg);\r\n    row.appendChild(div);\r\n    i++;\r\n    if (i === rowsize + 1) {\r\n        i = 1;\r\n        currow++;\r\n        row = document.querySelector('.row' + currow);\r\n    }\r\n});\r\nvar cards = document.querySelectorAll('.card');\r\nvar card1;\r\nvar card2;\r\nvar opened_cards = 0;\r\nvar seconds = 0;\r\nvar minutes = 0;\r\nvar appendMinutes = document.getElementById('minutes');\r\nvar appendSeconds = document.getElementById('seconds');\r\nfunction startTimer() {\r\n    seconds++;\r\n    if (seconds <= 9) {\r\n        appendSeconds.innerHTML = '0' + seconds;\r\n    }\r\n    if (seconds > 9) {\r\n        appendSeconds.innerHTML = '' + seconds;\r\n    }\r\n    if (seconds > 59) {\r\n        console.log('minutes');\r\n        minutes++;\r\n        appendMinutes.innerHTML = '0' + minutes;\r\n        seconds = 0;\r\n        appendSeconds.innerHTML = '0' + 0;\r\n    }\r\n    if (minutes > 9) {\r\n        appendMinutes.innerHTML = minutes + '';\r\n    }\r\n}\r\nsetTimeout(function () {\r\n    cards.forEach(function (card) {\r\n        card.querySelector('img').src = 'img/рубашка.svg';\r\n    });\r\n    var Interval = setInterval(startTimer, 1000);\r\n    cards.forEach(function (card) {\r\n        card.addEventListener('click', function (event) {\r\n            console.log(card.querySelector('img').src);\r\n            if (card instanceof HTMLElement) {\r\n                card.querySelector('img').src = cardArr.find(function (element) {\r\n                    return element.rang === card.dataset.rang &&\r\n                        element.suit === card.dataset.suit;\r\n                }).src;\r\n            }\r\n            if (card1.dataset.rang === '0')\r\n                card1 = card;\r\n            else {\r\n                card2 = card;\r\n                console.log(card1);\r\n                console.log(card2);\r\n                if (card1.dataset.rang !== card2.dataset.rang ||\r\n                    card1.dataset.suit !== card2.dataset.suit) {\r\n                    setTimeout(generateLoseMsg, 10);\r\n                    clearInterval(Interval);\r\n                }\r\n                opened_cards += 2;\r\n                if (opened_cards == size) {\r\n                    setTimeout(generateWinMsg, 10);\r\n                    clearInterval(Interval);\r\n                }\r\n                card1.dataset.rang = '0';\r\n                card2.dataset.rang = '0';\r\n            }\r\n        });\r\n    });\r\n}, 5000);\r\nfunction generateWinMsg() {\r\n    var windiv = document.createElement('div');\r\n    windiv.classList.add('div-win');\r\n    document.body.insertBefore(windiv, document.querySelector('.cards-div'));\r\n    var winimg = document.createElement('img');\r\n    winimg.src = 'img/celebrate.svg';\r\n    winimg.classList.add('win-img');\r\n    windiv.appendChild(winimg);\r\n    var winh3 = document.createElement('h3');\r\n    winh3.classList.add('win-text');\r\n    winh3.textContent = 'Вы выиграли!';\r\n    var winh4 = document.createElement('h4');\r\n    winh4.classList.add('time-spent-title');\r\n    winh4.textContent = 'Затраченное время:';\r\n    var winh2 = document.createElement('h2');\r\n    winh2.classList.add('time-spent');\r\n    winh2.textContent =\r\n        appendMinutes.textContent + ':' + appendSeconds.textContent;\r\n    var divhref = document.createElement('a');\r\n    divhref.setAttribute('href', 'index.html');\r\n    var divbut = document.createElement('button');\r\n    divbut.classList.add('button-again-win');\r\n    divbut.textContent = 'Играть сначала';\r\n    windiv.appendChild(winimg);\r\n    windiv.appendChild(winh3);\r\n    windiv.appendChild(winh4);\r\n    windiv.appendChild(winh2);\r\n    windiv.appendChild(divhref);\r\n    divhref.appendChild(divbut);\r\n}\r\nfunction generateLoseMsg() {\r\n    var windiv = document.createElement('div');\r\n    windiv.classList.add('div-win');\r\n    document.body.insertBefore(windiv, document.querySelector('.cards-div'));\r\n    var winimg = document.createElement('img');\r\n    winimg.src = 'img/lose.svg';\r\n    winimg.classList.add('win-img');\r\n    windiv.appendChild(winimg);\r\n    var winh3 = document.createElement('h3');\r\n    winh3.classList.add('win-text');\r\n    winh3.textContent = 'Вы проиграли!';\r\n    var winh4 = document.createElement('h4');\r\n    winh4.classList.add('time-spent-title');\r\n    winh4.textContent = 'Затраченное время:';\r\n    var winh2 = document.createElement('h2');\r\n    winh2.classList.add('time-spent');\r\n    winh2.textContent =\r\n        appendMinutes.textContent + ':' + appendSeconds.textContent;\r\n    var divhref = document.createElement('a');\r\n    divhref.setAttribute('href', 'index.html');\r\n    var divbut = document.createElement('button');\r\n    divbut.classList.add('button-again-win');\r\n    divbut.textContent = 'Играть сначала';\r\n    windiv.appendChild(winimg);\r\n    windiv.appendChild(winh3);\r\n    windiv.appendChild(winh4);\r\n    windiv.appendChild(winh2);\r\n    windiv.appendChild(divhref);\r\n    divhref.appendChild(divbut);\r\n}\r\n"],"names":[],"sourceRoot":""}